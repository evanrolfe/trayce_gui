import 'package:flutter_test/flutter_test.dart';

void main() {
  group('ProtoDef', () {
    // group('parseGRPCMessage', () {
    //   test('it parses a SendContainersObserved message', () async {
    //     // Get the proto file content
    //     final protoFile = await File('lib/agent/api.proto').readAsString();

    //     final protoDef = ProtoDef(
    //       name: 'api.proto',
    //       filePath: 'lib/agent/api.proto',
    //       protoFile: protoFile,
    //       createdAt: DateTime.now(),
    //     );

    //     final msg = Uint8List.fromList([
    //       0x0a,
    //       0x29,
    //       0x0a,
    //       0x04,
    //       0x31,
    //       0x32,
    //       0x33,
    //       0x34,
    //       0x12,
    //       0x06,
    //       0x75,
    //       0x62,
    //       0x75,
    //       0x6e,
    //       0x74,
    //       0x75,
    //       0x1a,
    //       0x0a,
    //       0x31,
    //       0x37,
    //       0x32,
    //       0x2e,
    //       0x30,
    //       0x2e,
    //       0x31,
    //       0x2e,
    //       0x31,
    //       0x39,
    //       0x22,
    //       0x04,
    //       0x65,
    //       0x76,
    //       0x61,
    //       0x6e,
    //       0x2a,
    //       0x07,
    //       0x72,
    //       0x75,
    //       0x6e,
    //       0x6e,
    //       0x69,
    //       0x6e,
    //       0x67,
    //     ]);

    //     print(msg);
    //     final result = await protoDef.parseGRPCMessage(
    //       msg,
    //       '/api.TrayceAgent/SendContainersObserved',
    //       false,
    //     );

    //     expect(result.trim(),
    //         '{"containers":[{"id":"1234","image":"ubuntu","ip":"172.0.1.19","name":"evan","status":"running"}]}');
    //   });
    // });
  });
}
